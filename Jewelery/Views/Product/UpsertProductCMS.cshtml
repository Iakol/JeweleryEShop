@using Jewelery.Models.Product_model;
@model Product;

@{
    Layout = "~/Views/Shared/_LayoutCSM.cshtml";
}

<div>
    <h1>
        @if (Model.Product_id == 0)
        {
            <span>Створити Продукт</span>
        }
        else
        {
            <span>Редагувати @Model.Name</span>
        }
    </h1>
</div>

<div class="d-flex justify-content-center">  
    <form id="upsertform" method="post">
        <div class="row">
            <div class="col-6">
                @if (Model.Product_id != 0)
                {
                    @foreach (var item in Model.Images)
                    {
                        <div class="col-5 m-1">
                            <img href="" alt="item.Alt_text">
                        </div>
                    }
                }
                else
                {
                    <p>Додайте фото</p>
                }
                <input type="file" class="btn" />
            </div>
            <div class="col-6">
                <div class="row">
                    <input type="text" placeholder="Назва Товару" asp-for="Name" />
                </div>
                <div class="row">
                    <div class="col-6">
                        <span> Артикул:   </span>
                        <input type="number" min="1" value="1" asp-for="Articul" />
                    </div>
                    <div class="col-6">
                        <span>В наявності?</span>
                        <input type="radio" name="Exist-prop" id="Exist" value="0" asp-for="isExist" />
                        <label for="Exist">Так</label>
                        <input type="radio" name="Exist-prop" id="NotExist" value="1" asp-for="isExist" />
                        <label for="NotExist" checked>Ні</label>
                    </div>
                </div>
                <div class="row-6">
                    <input type="number" step="0.01" min="1" value="1" asp-for="Price" />
                    <span>грн</span>
                 </div>
                 <div class="row">

                    @if (Model.Attributes.Count != 0)
                        {
                        @foreach (var item in Model.Attributes)
                            {
                                <h4>Item.Atribute_name</h4>
                                @foreach (var Subitem in item.Options)
                                {
                                    <p>Subitem.Size</p>
                                }
                                <button>Додати розмір</button>
                            }
                        }                       
                        <button >Додати Атрибут</button>
                         @*
                        <Додати Вибір розміру> - Додати Модель де буде текст і 1 фото з Один до одного кожного атрибуту
                        }*@
                        
                    </div>
                    <div class="row">
                        <div class="accordion accordion-flush" id="ProductDescription">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                                        Опис Товару
                                    </button>
                                </h2>
                                <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#ProductDescription">
                                    <div class="accordion-body"> 
                                        <textarea placeholder="Опис Товару"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                                        Відео Огляд
                                    </button>
                                </h2>
                                <div id="flush-collapseTwo" class="accordion-collapse collapse" data-bs-parent="#ProductDescription">
                                    <div class="accordion-body">Відео Огляд</div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                                        Упаковка
                                    </button>
                                </h2>
                                <div id="flush-collapseThree" class="accordion-collapse collapse" data-bs-parent="#ProductDescription">
                                    <div class="accordion-body">Упаковка</div>
                                </div>
                            </div>
                        </div>
                    </div>
                <div class="row">
                    <div class="col-6">
                        <select class="form-select" aria-label="Default select example">
                            <option selected>Категорії</option>
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                        </select>
                    </div>
                    <div class="col-6">
                        <select class="form-select disabled" aria-label="Default select example">
                            <option selected>Підкатегорії</option>
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-12">
                <p>Відображати в магазині?</p>
                <input type="radio" name="Exist-prop" id="Display" value="0" asp-for="isDisplay" />
                <label for="Display">Так</label>
                <input type="radio" name="Exist-prop" id="NotDisplay" value="1" checked asp-for="isDisplay" />
                <label for="NotDisplay">Ні</label>
            </div>
            <div class="col-12">
                <button type="submit">
                    @if (@Model.Category_id == 0)
                    {
                        <span>Створити</span>
                    }
                    else
                    {
                        <span>Редагувати</span>
                    }
                </button>
            </div>
        </div> 
    </form>
</div>